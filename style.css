/* ==========================================================================
   ÍNDICE DE SECCIONES - STYLE.CSS (VERSIÓN DEFINITIVA LUIS)
==========================================================================
   1. BASE, RESETEO Y TIPOGRAFÍA
   2. CABECERA Y NAVEGACIÓN (PC)
   3. LÓGICA DE BANNERS (SOLUCIÓN DEFINITIVA)
   4. SECCIONES GENERALES (Cloud Dancer y Pantones)
   5. COMPONENTES: PERFIL, ACORDEÓN Y HABILIDADES
   6. PORTAFOLIO Y GALERÍA (LIGHTBOX)
   7. FORMULARIO Y FOOTER
   8. CONTROLES INTERACTIVOS (FLOTANTES)
   9. MODO CONTRASTE (NOCHE)
   10. RESPONSIVE (MÓVIL < 768px)
========================================================================== */

/* ==========================================================================
   1. BASE, RESETEO Y TIPOGRAFÍA
   ========================================================================== */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

html {
    scroll-behavior: smooth;
}

body {
    background-color: #ffffff; 
    color: #333333; 
    font-family: 'Montserrat', sans-serif; 
    font-size: 15px; 
    line-height: 1.6;
    -webkit-user-select: none;
    -ms-user-select: none;
    user-select: none;
}

input, textarea {
    -webkit-user-select: text;
    -ms-user-select: text;
    user-select: text;
}

body::before {
    content: "";
    position: fixed;
    top: 0; left: 0; width: 100vw; height: 100vh;
    background-image: url("https://www.transparenttextures.com/patterns/natural-paper.png");
    opacity: 0.15;
    pointer-events: none;
    z-index: 9999; 
}

a { text-decoration: none !important; }

/* Barra de progreso superior */
#progress-bar {
    position: fixed; top: 0; left: 0;
    width: 0%; height: 4px;
    background-color: #BB2649; 
    z-index: 100002; 
    transition: width 0.1s ease-out;
}

/* ==========================================================================
   2. CABECERA Y NAVEGACIÓN (PC)
   ========================================================================== */
#header {
    background-color: #ffffff;
    padding: 20px 0;
    border-bottom: none !important;
    text-align: center;
}

.nav-centrado {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 15px;
}

/* Estilo Base de las imágenes del logo */
.logo img {
    width: 100% !important;
    max-width: 550px !important;
    height: auto !important;
    display: block; margin: 0 auto;
    object-fit: contain;
    image-rendering: pixelated; 
    image-rendering: -moz-crisp-edges;
}

/* ==========================================================================
   3. LÓGICA DE BANNERS (SOLUCIÓN DEFINITIVA)
   ========================================================================== */

.banner-movil { 
    display: none !important; 
}

/* 2. MODO DÍA (ESCRITORIO) */
/* Por defecto mostramos el PC Color y aseguramos que el PC Negro esté oculto */
.banner-pc.banner-color { 
    display: block !important; 
}
.banner-pc.banner-bn { 
    display: none !important; 
}

/* 3. MODO NOCHE (ESCRITORIO - ACTIVADO POR JS) */
/* Cuando el body tiene la clase .modo-contraste, invertimos la lógica */
body.modo-contraste .banner-pc.banner-color { 
    display: none !important; 
}
body.modo-contraste .banner-pc.banner-bn { 
    display: block !important; 
}

/* Menú Principal */
.nav-links {
    list-style: none;
    display: flex;
    justify-content: center;
    gap: 20px;
}

.nav-links li a {
    color: #333333;
    font-weight: 700;
    transition: 0.3s;
}

.nav-links li a:hover { 
    opacity: 1;
    transform: scale(1.05);
}

/* ==========================================================================
   4. SECCIONES GENERALES
   ========================================================================== */
.seccion-cloud-dancer, 
.seccion-cloud-dancer-footer {
    background-color: #f6f5f4; 
    max-width: 950px;
    margin: 0 auto 40px;
    padding: 30px; 
    border-radius: 0 0 12px 12px; 
    position: relative;
    overflow: hidden;
    box-shadow: none !important;
}

.seccion-cloud-dancer p, 
.seccion-cloud-dancer li {
    font-size: 0.95rem !important;
    line-height: 1.5;
}

/* Bloques Pantone (Títulos) */
.bloque-pantone {
    width: 100%; padding: 15px; margin-top: 40px;
    color: #ffffff !important; text-align: center; font-size: 2.2em; font-weight: 800;
}
.bloque-pantone-formacion { background-color: #009473; }
.bloque-pantone-experiencia { background-color: #FF7F50; color: #000 !important; }
.bloque-pantone-habilidades { background-color: #6667AB; }
.bloque-pantone-contacto { background-color: #0F4C81; }
#proyectos h2 { background-color: #BB2649; color: #ffffff !important; }

/* Resplandores (Sombras de color) */
#perfil.seccion-cloud-dancer { box-shadow: 0 8px 15px rgba(0, 0, 0, 0.6) !important; }
#formacion .seccion-cloud-dancer { box-shadow: 0 10px 20px rgba(0, 148, 115, 0.6) !important; }
#experiencia .seccion-cloud-dancer { box-shadow: 0 10px 20px rgba(255, 127, 80, 0.6) !important; }
#proyectos .seccion-cloud-dancer { box-shadow: 0 10px 20px rgba(187, 38, 73, 0.6) !important; }
#habilidades .seccion-cloud-dancer { box-shadow: 0 10px 20px rgba(102, 103, 171, 0.6) !important; }
#contacto .seccion-cloud-dancer { box-shadow: 0 10px 20px rgba(15, 76, 129, 0.6) !important; }
.seccion-cloud-dancer-footer { box-shadow: 0 10px 20px rgba(0, 0, 0, 0.4) !important; }

/* ==========================================================================
   5. COMPONENTES: PERFIL, ACORDEÓN Y HABILIDADES
   ========================================================================== */
/* Perfil */
.perfil-layout { 
    display: flex; gap: 0; margin: -30px; align-items: stretch; 
}
.perfil-imagen { flex: 0 0 40%; overflow: hidden; border-radius: 12px 0 0 12px; }
.perfil-imagen img { width: 100%; height: 100%; object-fit: cover; display: block; }

.perfil-texto { 
    flex: 1; padding: 20px 35px; text-align: left; 
    display: flex; flex-direction: column; justify-content: center;
}
.perfil-texto h1 { line-height: 1.1; margin-bottom: 25px; }
.perfil-texto p { text-align: justify; text-justify: inter-word; margin-bottom: 12px; }

/* Botón Perfil */
.boton-perfil {
    width: fit-content !important; padding: 10px 20px !important;
    align-self: flex-start; margin-top: 10px;
}

/* Prompt AI Container */
.prompt-container {
    margin-top: 25px; padding: 20px; background-color: #ffffff;
    border-left: 5px solid #BB2649; border-radius: 8px;
    box-shadow: 0 4px 10px rgba(0,0,0,0.05);
}
.prompt-label {
    font-weight: 900; font-size: 11px; text-transform: uppercase;
    color: #BB2649; display: block; margin-bottom: 10px;
}

/* --- ACORDEÓN FORMACIÓN --- */
.acordeon-header {
    width: 100%; background: transparent !important;
    border: none !important; outline: none !important; box-shadow: none !important;
    text-align: left; padding: 15px 0; cursor: pointer;
    display: flex; justify-content: space-between; align-items: center;
    font-family: 'Montserrat', sans-serif;
}
.acordeon-item { border-bottom: 1px solid #e0e0e0; margin-bottom: 10px; }
.acordeon-item:last-child { border-bottom: none; }

.acordeon-header h3 {
    font-size: 1rem; margin: 0; color: #333; position: relative;
    padding-left: 20px; line-height: 1.4; font-weight: 700;
}
.acordeon-header h3::before {
    content: "•"; color: #009473; font-size: 1.5em;
    position: absolute; left: 0; top: -2px;
}

.icono-acordeon { font-size: 0.8rem; color: #009473; transition: transform 0.3s ease; margin-left: 15px; }
.acordeon-header.activo .icono-acordeon { transform: rotate(180deg); }
.acordeon-header.activo h3 { color: #009473; }

.acordeon-contenido {
    max-height: 0; overflow: hidden; transition: max-height 0.3s ease-out; padding-left: 20px; 
}
.acordeon-contenido p { margin-bottom: 15px; font-size: 0.95rem; color: #555; line-height: 1.6; }
.acordeon-contenido .institucion { font-weight: bold; color: #000; margin-bottom: 5px; display: block; }

/* Habilidades */
.habilidades-lista { display: flex; gap: 20px; }
.columna-habilidad { flex: 1; }
.columna-habilidad h3 { 
    color: #6667AB; 
    border-bottom: 2px solid #6667AB; 
    padding-bottom: 5px; margin-bottom: 10px; 
}
.columna-habilidad li { list-style: none; position: relative; padding-left: 20px; }
.columna-habilidad li::before { content: "•"; color: #6667AB; font-weight: bold; position: absolute; left: 0; }

/* Experiencia */
#experiencia ul { list-style: none; padding-left: 25px; margin-top: 15px; }
#experiencia li { position: relative; margin-bottom: 10px; padding-left: 15px; line-height: 1.5; }
#experiencia li::before {
    content: "•"; color: #FF7F50; font-weight: bold; font-size: 1.5em;
    position: absolute; left: -15px; top: -5px;
}

/* ==========================================================================
   6. PORTAFOLIO Y GALERÍA (LIGHTBOX)
   ========================================================================== */
.proyectos-grid { display: flex; gap: 20px; margin-top: 30px; }
.tarjeta-proyecto {
    flex: 1; padding: 25px; background: #fff; border: 1px solid #ccc;
    border-radius: 8px; border-top: 5px solid #BB2649;
    transition: transform 0.3s;
}
.tarjeta-proyecto:hover { transform: translateY(-8px); }

/* Separador */
.separador-proyectos {
    margin-top: 10px !important; margin-bottom: 20px !important;
    border: 0; border-top: 2px solid #e0e0e0; opacity: 0.5;
}
#proyectos h3 { margin-bottom: 10px !important; }

/* Galería Miniaturas */
.portafolio-grafico { display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px; }
.miniatura-contenedor { overflow: hidden; aspect-ratio: 1 / 1; }
.miniatura-contenedor img { width: 100% !important; height: 100% !important; object-fit: cover; display: block; }

/* Lightbox */
.lightbox {
    display: none !important; position: fixed; top: 0; left: 0; width: 100vw; height: 100vh;
    background: rgba(0, 0, 0, 0.4); z-index: 100000; align-items: center; justify-content: center;
    backdrop-filter: blur(15px);
}
.lightbox:target { display: flex !important; }
.lightbox-contenido {
    position: relative; width: 85%; max-width: 1100px; background: #f6f5f4;
    padding: 30px; border-radius: 15px; text-align: center;
}
.lightbox-contenido img { max-width: 100%; max-height: 70vh; object-fit: contain; margin-bottom: 15px; }
.lightbox-cerrar-area { position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: -1; cursor: default; }
.btn-cerrar-x { position: absolute; top: -40px; right: 0; font-size: 35px; color: #fff; text-decoration: none !important; font-weight: bold; }

/* ==========================================================================
   7. FORMULARIO Y FOOTER
   ========================================================================== */
.cta-boton {
    background-color: #000000 !important; color: #ffffff !important;
    padding: 12px 24px; border-radius: 5px; font-weight: 700;
    display: inline-block; border: none; transition: 0.3s;
}

.formulario-contacto { display: flex; flex-direction: column; gap: 15px; max-width: 600px; margin: 20px auto 0; }
.formulario-contacto label { display: none !important; }
.formulario-contacto label.sr-only { position: absolute; width: 1px; height: 1px; overflow: hidden; clip: rect(0,0,0,0); }

.formulario-contacto input, .formulario-contacto textarea {
    width: 100%; padding: 12px 15px; border: 1px solid #ccc; border-radius: 8px;
    font-family: inherit; font-size: 14px; background-color: #ffffff;
}
.boton-contacto {
    width: 100%; background-color: #000000 !important; color: #ffffff !important;
    padding: 15px !important; border: none; border-radius: 8px; font-weight: 700; cursor: pointer;
    text-align: center; transition: background 0.3s ease;
}
.boton-contacto:hover { opacity: 0.8; }
.redes-sociales { display: flex; justify-content: center; gap: 20px; margin-top: 25px; font-weight: 700; }

.referencias-grid { display: grid; grid-template-columns: repeat(6, 1fr); gap: 20px; justify-items: center; align-items: start; margin-top: 30px; }
.referencia-item { display: flex; flex-direction: column; align-items: center; text-align: center; transition: transform 0.3s ease; }
.muestra-color { width: 100px; height: 100px; border-radius: 10px; border: 1px solid #ccc; margin-bottom: 10px; }
.referencia-item b, .referencia-item p { color: #000; font-size: 12px; line-height: 1.2; }
.footer-bottom { text-align: center; padding: 20px 0 40px; color: #666; font-size: 0.85em; }

/* ==========================================================================
   8. CONTROLES INTERACTIVOS
   ========================================================================== */
.controles-interactivos {
    position: fixed; bottom: 25px; right: 25px; z-index: 100010;
    display: flex; flex-direction: column-reverse; gap: 12px; align-items: center;
}

#toggle-bn, #btn-cv, #btn-subir, .menu-hamburguesa {
    width: 45px; height: 45px; border-radius: 50%;
    display: flex; align-items: center; justify-content: center;
    border: 2px solid #000; background: #fff;
    cursor: pointer; box-shadow: 0 4px 10px rgba(0,0,0,0.1);
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
}
.icono-btn, .icono-flecha { font-size: 36px !important; line-height: 1; display: flex; align-items: center; justify-content: center; }

#btn-subir {
    opacity: 0; visibility: hidden; height: 0; margin: 0; padding: 0; border: none; overflow: hidden; transform: translateY(15px);
}
#btn-subir.mostrar {
    opacity: 1; visibility: visible; height: 45px; border: 2px solid #000; transform: translateY(0);
}
#btn-cv { background: #000; color: #fff !important; font-size: 11px; font-weight: 800; text-decoration: none; }
.menu-hamburguesa { display: none !important; }

/* ==========================================================================
   9. MODO CONTRASTE (NOCHE)
   ========================================================================== */
body.modo-contraste { background-color: #000 !important; color: #ffffff !important; }

body.modo-contraste header, body.modo-contraste .nav-links,
body.modo-contraste .seccion-cloud-dancer, body.modo-contraste .seccion-cloud-dancer-footer,
body.modo-contraste .tarjeta-proyecto, body.modo-contraste .lightbox-contenido {
    background-color: #000 !important; border: none !important; color: #ffffff !important;
}

/* Barra, Prompt y Redes */
body.modo-contraste #progress-bar { background-color: #ffffff !important; }
body.modo-contraste .prompt-container { background-color: #1a1a1a !important; border-left: 5px solid #ffffff !important; color: #fff !important; }
body.modo-contraste .prompt-label { background-color: #ffffff !important; color: #000000 !important; }
body.modo-contraste .prompt-quote { color: #ddd !important; }
body.modo-contraste .redes-sociales a { color: #ffffff !important; }

/* Subrayados y Separadores */
body.modo-contraste .columna-habilidad h3 { border-bottom-color: #ffffff !important; color: #ffffff !important; }
body.modo-contraste .separador-proyectos { border-color: rgba(255,255,255,0.4) !important; }

/* Puntos y Flechas */
body.modo-contraste .acordeon-header h3::before,
body.modo-contraste #experiencia li::before,
body.modo-contraste .columna-habilidad li::before,
body.modo-contraste .icono-acordeon { color: #ffffff !important; }

/* Títulos Secciones */
body.modo-contraste .bloque-pantone, 
body.modo-contraste .bloque-pantone-experiencia, 
body.modo-contraste .bloque-pantone-formacion, 
body.modo-contraste .bloque-pantone-habilidades, 
body.modo-contraste .bloque-pantone-contacto {
    color: #ffffff !important; background-color: #2a2929 !important;
}
body.modo-contraste .seccion-cloud-dancer h3, body.modo-contraste .seccion-cloud-dancer p,
body.modo-contraste .seccion-cloud-dancer li, body.modo-contraste .footer-bottom { color: #ffffff !important; }

/* Acordeón */
body.modo-contraste .acordeon-header { background: transparent !important; }
body.modo-contraste .acordeon-header h3 { color: #fff; }
body.modo-contraste .acordeon-header.activo h3 { color: #009473; }
body.modo-contraste .acordeon-contenido p { color: #ccc; }
body.modo-contraste .acordeon-contenido .institucion { color: #fff; }
body.modo-contraste .acordeon-item { border-bottom: 1px solid #333; }

/* Botones y Form */
body.modo-contraste .cta-boton, body.modo-contraste .boton-contacto, body.modo-contraste .boton-perfil {
    background-color: #ffffff !important; color: #000000 !important; border: none !important;
}
body.modo-contraste .formulario-contacto input, body.modo-contraste .formulario-contacto textarea {
    background-color: #1a1a1a !important; color: #ffffff !important; border: 1px solid #333333 !important;
}
body.modo-contraste .formulario-contacto ::placeholder { color: #888888 !important; }

/* Controles */
body.modo-contraste #toggle-bn, body.modo-contraste #btn-subir, body.modo-contraste #menu-movil-btn {
    background-color: #000 !important; border-color: #fff !important; color: #fff !important;
}
body.modo-contraste #btn-cv { background-color: #fff !important; color: #000 !important; }

/* Imágenes Global */
body.modo-contraste img { filter: grayscale(100%) brightness(0.7) !important; }
/* Excepciones que mantienen color/brillo */
body.modo-contraste .logo-404, 
body.modo-contraste .btn-cerrar-x,
body.modo-contraste .banner-bn,
body.modo-contraste .banner-movil.banner-bn { 
    filter: none !important; 
    color: #fff !important; 
}

/* Resplandores */
body.modo-contraste #perfil.seccion-cloud-dancer, body.modo-contraste #formacion .seccion-cloud-dancer,
body.modo-contraste #experiencia .seccion-cloud-dancer, body.modo-contraste #proyectos .seccion-cloud-dancer,
body.modo-contraste #habilidades .seccion-cloud-dancer, body.modo-contraste #contacto .seccion-cloud-dancer {
    box-shadow: 0 8px 15px rgba(255, 255, 255, 0.4) !important; border: 1px solid rgba(255, 255, 255, 0.1) !important;
}
body.modo-contraste .tarjeta-proyecto {
    border: 1px solid #ffffff !important; background-color: #000000 !important; border-top: 5px solid #ffffff !important;
}

body.modo-contraste .paleta-explicacion, body.modo-contraste .seccion-cloud-dancer-footer { display: none !important; }

/* Enlaces Menú Noche */
body.modo-contraste .nav-links li a[href], 
body.modo-contraste .nav-links li a[href]:hover,
body.modo-contraste .nav-links li a.active-link {
    background-color: transparent !important; color: #ffffff !important;
}
body.modo-contraste .nav-links li a[href]:hover,
body.modo-contraste .nav-links li a.active-link {
    background-color: #333333 !important; border: 1px solid #555 !important;
}
body.modo-contraste .nav-links li a[href="#contacto"] { background-color: transparent !important; }

body.modo-contraste .label-promo {
    color: #cccccc !important; /* Un gris claro elegante */
    /* O si prefieres blanco puro: color: #ffffff !important; */
}
/* ==========================================================================
   10. RESPONSIVE (MÓVIL < 768px)
   ========================================================================== */
@media (max-width: 768px) {
    
    /* BLOQUEO TOTAL DE LOGOS DE PC EN MÓVIL */
    .banner-pc,
    .banner-pc.banner-color,
    .banner-pc.banner-bn { 
        display: none !important; 
    }
    body.modo-contraste .banner-pc.banner-bn, 
    body.modo-contraste .banner-pc.banner-color { 
        display: none !important; 
    }
    
    /* MÓVIL MODO DÍA */
    body:not(.modo-contraste) .banner-movil.banner-color { display: block !important; }
    body:not(.modo-contraste) .banner-movil.banner-bn { display: none !important; }

    /* MÓVIL MODO NOCHE */
    body.modo-contraste .banner-movil.banner-bn { display: block !important; }
    body.modo-contraste .banner-movil.banner-color { display: none !important; }

    
    /* Tipografía y Header */
    body { font-size: 13px !important; }
    #header { padding: 0 !important; margin: 0 !important; min-height: auto !important; }
    .nav-centrado { display: block !important; gap: 0 !important; }
    
    /* Logo Móvil - AIRE ARRIBA/ABAJO */
    .logo { 
        line-height: 0 !important; 
        margin: 25px 0 !important; /* 20px extra para que respire */
        padding: 0 !important; 
        position: relative; 
    }
    .logo img { 
        width: 100% !important; 
        max-width: 400px !important; 
        margin: 0 auto !important; 
        display: block !important; 
        object-fit: contain; 
        image-rendering: pixelated; 
    }

    .redes-sociales {
        display: flex !important;
        flex-wrap: wrap !important; /* <--- ESTA ES LA CLAVE: Permite múltiples líneas */
        justify-content: center !important;
        gap: 10px 15px !important; /* Espacio: 10px vertical, 15px horizontal */
        line-height: 2 !important; /* Separa las líneas para que no se peguen */
        padding: 0 20px !important; /* Margen lateral para que no toquen los bordes */
        width: 100%;
    }
    
    /* Opcional: Ajustar un poco el tamaño de la fuente si se ve muy grande */
    .redes-sociales a {
        font-size: 14px !important;
        white-space: nowrap; /* Evita que se parta el nombre "LaTostadora" por la mitad */
    }

    /* Layouts */
    .perfil-layout { flex-direction: column; margin: 0; }
    .perfil-imagen { height: 350px !important; width: 100% !important; border-radius: 12px !important; }
    .perfil-texto h1 { font-size: 1.3rem !important; }
    .bloque-pantone { font-size: 1.6em !important; }

    .habilidades-lista { flex-direction: column; }
    .referencias-grid, .portafolio-grafico { grid-template-columns: repeat(2, 1fr) !important; gap: 15px !important; }
    
    .proyectos-grid { display: flex !important; flex-direction: column !important; gap: 20px !important; padding: 0 10px; }
    .tarjeta-proyecto { width: 100% !important; grid-column: auto !important; }

    /* Márgenes */
    #perfil.seccion-cloud-dancer { padding: 30px !important; margin-top: 0 !important; }
    .perfil-texto { padding: 15px 0 !important; }
    .bloque-pantone { padding-left: 15px !important; padding-right: 15px !important; }

    /* Menú y Popup */
    .menu-hamburguesa { display: flex !important; width: 50px !important; height: 50px !important; margin: 0 !important; }
    #btn-cv { display: none !important; }

    .nav-links {
        display: none; flex-direction: column !important; position: fixed; bottom: 145px; right: 20px;
        width: 180px; background: #fff; padding: 15px; border-radius: 12px;
        box-shadow: 0 5px 15px rgba(0,0,0,0.2); z-index: 100015; gap: 15px !important; height: auto !important; margin: 0 !important;
    }
    .nav-links.active { display: flex !important; animation: fadeInMenu 0.3s ease; }
    @keyframes fadeInMenu { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

    /* Colores Menú Móvil */
    .nav-links li a { display: block; padding: 8px 12px; border-radius: 8px; transition: all 0.3s ease; font-size: 1.1rem; }
    .nav-links li a[href="#perfil"]:hover, .nav-links li a[href="#perfil"].active-link { background: #333 !important; color: #fff !important; }
    .nav-links li a[href="#formacion"]:hover, .nav-links li a[href="#formacion"].active-link { background: #009473 !important; color: #fff !important; }
    .nav-links li a[href="#experiencia"]:hover, .nav-links li a[href="#experiencia"].active-link { background: #FF7F50 !important; color: #fff !important; }
    .nav-links li a[href="#habilidades"]:hover, .nav-links li a[href="#habilidades"].active-link { background: #6667AB !important; color: #fff !important; }
    .nav-links li a[href="#proyectos"]:hover, .nav-links li a[href="#proyectos"].active-link { background: #BB2649 !important; color: #fff !important; }
    .nav-links li a[href="#contacto"]:hover, .nav-links li a[href="#contacto"].active-link { background: #0F4C81 !important; color: #fff !important; }
    
    body.modo-contraste .nav-links { background-color: #1a1a1a !important; border: 1px solid #333; }

    /* Controles Flotantes Móvil */
    .controles-interactivos {
        display: flex !important; flex-direction: column-reverse !important;
        bottom: 20px !important; right: 20px !important; gap: 0 !important;
    }
    #toggle-bn { margin-top: 15px !important; width: 50px !important; height: 50px !important; }
    
    #btn-subir {
        display: flex !important; max-height: 0 !important; margin: 0 !important;
        opacity: 0 !important; visibility: hidden !important; overflow: hidden; border: none !important;
        width: 50px !important; transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    }
    #btn-subir.mostrar {
        max-height: 50px !important; opacity: 1 !important; visibility: visible !important;
        margin-top: 15px !important; border: 2px solid #000 !important;
    }


    /* --- BANNERS PUBLICIDAD MÓVIL (LIBRO Y TIENDA) --- */
.promo-libro-container, 
.promo-tienda-container {
    display: flex !important;
    flex-direction: column !important; /* FUERZA: Foto arriba, texto abajo */
    width: 100% !important;
    max-width: 100% !important;
    margin: 40px 0 0 0 !important; /* Separación entre bloques */
    padding: 0 !important;
    background-color: #ffffff !important;
    border: none !important;
    box-shadow: none !important;
    overflow: visible !important;
}

/* Quitamos los fondos grises que sobran en móvil */
.promo-libro-container::before, 
.promo-tienda-container::before {
    display: none !important;
}

/* Contenedores de Imagen (Arriba) */
.libro-img-wrapper, 
.tienda-img-wrapper {
    width: 100% !important;
    padding: 0 !important;
    background-color: #ffffff !important;
    display: flex !important;
    justify-content: center !important;
}

.libro-foto-principal, 
.tienda-foto-principal {
    width: 100% !important;
    max-width: 100% !important;
    height: auto !important;
    display: block !important;
}

/* Contenedores de Texto (Abajo) */
.libro-texto-wrapper, 
.tienda-texto-wrapper {
    width: 100% !important;
    display: flex !important;
    flex-direction: column !important;
    padding: 40px 25px !important; /* Espacio para que el texto respire */
    background-color: #f6f5f4 !important; /* El gris Cloud Dancer */
    text-align: center !important; /* Texto centrado en móvil */
    box-sizing: border-box !important;
}

/* Ajuste de los títulos en móvil */
.libro-texto-wrapper h3, 
.titulo-tienda {
    font-size: 1.6rem !important;
    line-height: 1.2 !important;
    margin-bottom: 15px !important;
    color: #000 !important;
}

/* Ajuste de párrafos */
.libro-texto-wrapper p, 
.tienda-texto-wrapper p {
    font-size: 1rem !important;
    margin-bottom: 15px !important;
}

/* Botones centrados y grandes para el dedo */
.btn-compra-libro, 
.btn-compra-tienda {
    width: 100% !important;
    max-width: 280px;
    margin: 10px auto 0 !important;
}

/* --- MODO NOCHE MÓVIL --- */
body.modo-contraste .libro-texto-wrapper,
body.modo-contraste .tienda-texto-wrapper {
    background-color: #1a1a1a !important;
}
body.modo-contraste .libro-texto-wrapper h3,
body.modo-contraste .titulo-tienda,
body.modo-contraste .libro-texto-wrapper p,
body.modo-contraste .tienda-texto-wrapper p {
    color: #ffffff !important;
}
}

/* Landscape */
@media (max-width: 932px) and (orientation: landscape) {
    .proyectos-grid { display: flex !important; flex-direction: column !important; }
    #btn-cv { display: none !important; }
    .logo img { width: 300px !important; max-width: 80% !important; }
    .perfil-imagen { height: 250px !important; }
}

/* Base: al pasar el ratón o estar activo */
.nav-links li a {
    transition: all 0.3s ease;
    border-radius: 8px;
    padding: 8px 12px;
}

/* Quién Soy - Gris oscuro/Negro */
.nav-links li a[href="#perfil"]:hover,
.nav-links li a[href="#perfil"].active-link {
    background-color: #333 !important;
    color: #fff !important;
}

/* Formación - Verde */
.nav-links li a[href="#formacion"]:hover,
.nav-links li a[href="#formacion"].active-link {
    background-color: #009473 !important;
    color: #fff !important;
}

/* Experiencia - Naranja */
.nav-links li a[href="#experiencia"]:hover,
.nav-links li a[href="#experiencia"].active-link {
    background-color: #FF7F50 !important;
    color: #fff !important;
}

/* Habilidades - Morado */
.nav-links li a[href="#habilidades"]:hover,
.nav-links li a[href="#habilidades"].active-link {
    background-color: #6667AB !important;
    color: #fff !important;
}

/* Proyectos - Rojo/Magenta */
.nav-links li a[href="#proyectos"]:hover,
.nav-links li a[href="#proyectos"].active-link {
    background-color: #BB2649 !important;
    color: #fff !important;
}

/* Contacto - Azul */
.nav-links li a[href="#contacto"]:hover,
.nav-links li a[href="#contacto"].active-link {
    background-color: #0F4C81 !important;
    color: #fff !important;
}

/* ==========================================================================
   PARCHE FINAL: MODO NOCHE - ENLACES GRISES
   ========================================================================== */
body.modo-contraste .nav-links li a[href], 
body.modo-contraste .nav-links li a[href]:hover,
body.modo-contraste .nav-links li a.active-link {
    background-color: transparent !important; /* Fondo transparente por defecto */
    color: #ffffff !important;
}

/* Al pasar el ratón o estar activo en modo noche -> GRIS */
body.modo-contraste .nav-links li a[href]:hover,
body.modo-contraste .nav-links li a.active-link {
    background-color: #333333 !important; /* Gris oscuro elegante */
    border: 1px solid #555 !important;
}

.boton-perfil {
    width: fit-content !important;
    padding: 10px 20px !important;
    align-self: flex-start;
    margin-top: 10px;
}

/* --- CORRECCIÓN FLASH FOTO RANDOM --- */
#foto-perfil-azar {
    opacity: 0; /* Nace invisible */
    transition: opacity 0.2s ease-in; /* (Opcional) Hace que aparezca suavemente */
}

#foto-perfil-azar.visible {
    opacity: 1; /* Se vuelve visible cuando tiene esta clase */
}


/* ==========================================================================
   BANNER LIBRO - VERSIÓN PC (SIN BORDES ARRIBA + PEGADO A LO BRUTO)
   ========================================================================== */

.promo-libro-container {
    display: flex !important;
    position: relative;
    width: 100%;
    max-width: 950px;
    
    /* FUERZA BRUTA PARA SUBIRLO */
    /* Si te parece mucho, baja a -100px. Si es poco, sube a -150px */
    margin-top: -100px !important; 
    margin-right: auto;
    margin-left: auto;
    margin-bottom: 60px;
    
    /* CRUCIAL: Todo transparente para que no se vea caja arriba */
    background-color: transparent !important;
    background: transparent !important;
    border: none !important;
    box-shadow: none !important;
    
    /* Para que flote sobre la sección anterior */
    z-index: 99; 
}

/* --- EL SUELO GRIS (SOLO ESTO DEBE TENER COLOR) --- */
.promo-libro-container::before {
    content: "";
    position: absolute;
    bottom: 0;
    left: 0;
    width: 100%;
    height: 60%; /* Altura de la zona gris */
    background-color: #f6f5f4; 
    border-radius: 12px;
    /* La sombra solo va en el suelo gris */
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
    z-index: -1; 
}

/* --- COLUMNA FOTO --- */
.libro-img-wrapper {
    flex: 0 0 45%; 
    padding: 0 !important;
    display: flex;
    align-items: flex-end; 
    justify-content: center;
    position: relative;
    z-index: 1;
    
    /* IMPORTANTE: Fondo transparente para no crear el cuadrado blanco */
    background-color: transparent !important; 
}

.libro-foto-principal {
    width: auto;
    max-width: 450px; 
    height: auto;
    display: block;
    margin-bottom: 0;
    /* mix-blend-mode: multiply; <--- Quitado para evitar problemas con bordes */
}

/* --- COLUMNA TEXTO --- */
.libro-texto-wrapper {
    flex: 1;
    /* Bajamos el padding superior para que el texto caiga en la zona gris */
    padding: 100px 40px 40px 20px; 
    display: flex;
    flex-direction: column;
    justify-content: center;
    position: relative;
    z-index: 1;
    
    /* IMPORTANTE: Quitamos el degradado blanco que creaba el borde */
    background: transparent !important;
}

/* Estilos Texto */
.label-promo {
    /* Tipografía */
    font-size: 10px; 
    font-weight: 900; 
    letter-spacing: 1px; 
    text-transform: uppercase; 
    
    /* Estilo Etiqueta (Fondo Negro / Letra Blanca) */
    background-color: #000;
    color: #fff;
    padding: 5px 10px; /* Relleno para que respire */
    border-radius: 4px; /* Bordes un pelín redondeados */
    width: fit-content; /* IMPORTANTE: Para que el fondo no ocupe todo el ancho */
    
    margin-bottom: 15px; 
    display: block;
}

.libro-texto-wrapper h3 {
    font-size: 2.2rem; line-height: 1.1; margin-bottom: 15px; color: #000; font-weight: 800;
}
.libro-texto-wrapper p {
    font-size: 1rem; color: #333; line-height: 1.5; margin-bottom: 8px; 
}
.libro-texto-wrapper p:last-of-type {
    margin-bottom: 30px; 
}
.btn-compra-libro {
    display: inline-block; background-color: #000; color: #fff !important; padding: 15px 30px; font-weight: 700; border-radius: 8px; width: fit-content; transition: 0.3s; margin-top: 0;
}
.btn-compra-libro:hover { transform: translateY(-3px); background-color: #333; }

/* --- MODO NOCHE PC --- */
body.modo-contraste .promo-libro-container { background-color: transparent !important; }
body.modo-contraste .promo-libro-container::before { background-color: #1a1a1a; border: 1px solid #333; }
body.modo-contraste .libro-img-wrapper { background-color: transparent !important; } /* Transparente también en noche */
body.modo-contraste .libro-texto-wrapper { background: transparent !important; } /* Transparente también en noche */

body.modo-contraste .libro-foto-principal { filter: brightness(0.9); }
body.modo-contraste .libro-texto-wrapper h3, body.modo-contraste .libro-texto-wrapper p { color: #fff; }
body.modo-contraste .label-promo { color: #ccc; opacity: 0.8; }
body.modo-contraste .btn-compra-libro { background-color: #fff; color: #000 !important; }

/* ==========================================================================
   MODO NOCHE (PREPARADO PARA CAMBIO DE FOTO)
   ========================================================================== */
body.modo-contraste .promo-libro-container::before {
    background-color: #1a1a1a; /* Suelo oscuro */
    border: 1px solid #333;
}

body.modo-contraste .libro-texto-wrapper h3,
body.modo-contraste .libro-texto-wrapper p {
    color: #fff;
}

body.modo-contraste .btn-compra-libro {
    background-color: #fff;
    color: #000 !important;
}

/* AQUÍ CONFIGURAS LA FOTO DE NOCHE */
body.modo-contraste .libro-foto-principal {
    mix-blend-mode: normal; /* Quitamos el efecto multiply en noche */
    
    /* OPCIÓN A: Si es la misma foto, le bajamos el brillo */
    filter: brightness(0.8); 

    /* OPCIÓN B: Si tienes una foto distinta para noche (ej: libro con luz led), descomenta esto: */
    /* content: url('img/nombre-de-tu-foto-noche.jpg'); */
}

/* Dentro de tus estilos de Modo Noche */
body.modo-contraste .label-promo {
    background-color: #fff !important; /* Fondo blanco */
    color: #000 !important;            /* Letra negra */
    opacity: 1;                        /* Quitamos la opacidad si la tenía antes */
}

/* ==========================================================================
   BANNER TIENDA - VERSIÓN TODO DENTRO (SIN ELEMENTOS FUERA)
   ========================================================================== */

.promo-tienda-container {
    display: flex !important;
    flex-direction: row-reverse !important; /* Foto derecha, Texto izquierda */
    width: 100%;
    max-width: 950px;
    margin: 40px auto; /* Margen normal, sin negativos para que no suba */
    
    /* Fondo sólido Cloud Dancer para que todo esté "dentro" */
    background-color: #f6f5f4 !important; 
    border-radius: 12px;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
    overflow: hidden; /* Corta cualquier cosa que intente salir */
}

/* --- COLUMNA FOTO --- */
.tienda-img-wrapper {
    flex: 0 0 45%;
    display: flex;
    align-items: center; /* Centrada verticalmente para que no asome */
    justify-content: center;
    background-color: #f6f5f4;
    padding: 20px !important;
}

.tienda-foto-principal {
    width: auto;
    max-width: 550px; /* Foto un poco más pequeña que la del libro */
    height: auto;
    display: block;
}

/* --- COLUMNA TEXTO --- */
.tienda-texto-wrapper {
    flex: 1;
    padding: 40px;
    display: flex;
    flex-direction: column;
    justify-content: center;
    text-align: left; /* O right si prefieres simetría */
}

/* --- TÍTULO MÁS PEQUEÑO --- */
.titulo-tienda {
    font-size: 1.6rem !important; /* <--- Ajuste de tamaño solicitado */
    line-height: 1.2;
    margin-bottom: 15px;
    color: #000;
    font-weight: 800;
}

.tienda-texto-wrapper p {
    font-size: 0.95rem;
    color: #333;
    margin-bottom: 25px;
}

.btn-compra-tienda {
    display: inline-block;
    background-color: #000;
    color: #fff !important;
    padding: 12px 25px;
    font-weight: 700;
    border-radius: 8px;
    width: fit-content;
    transition: 0.3s;
}

.btn-compra-tienda:hover { background-color: #BB2649; transform: translateY(-2px); }

/* --- MODO NOCHE TIENDA (Todo dentro) --- */
body.modo-contraste .promo-tienda-container {
    background-color: #1a1a1a !important;
    border: 1px solid #333;
}
body.modo-contraste .tienda-img-wrapper { background-color: #1a1a1a !important; }
body.modo-contraste .titulo-tienda, 
body.modo-contraste .tienda-texto-wrapper p { color: #fff; }
body.modo-contraste .btn-compra-tienda { background-color: #fff; color: #000 !important; }


/* ==========================================================================
   MODO NOCHE (PREPARADO PARA CAMBIO DE FOTO)
   ========================================================================== */
body.modo-contraste .promo-libro-container::before {
    background-color: #1a1a1a; /* Suelo oscuro */
    border: 1px solid #333;
}

body.modo-contraste .libro-texto-wrapper h3,
body.modo-contraste .libro-texto-wrapper p {
    color: #fff;
}

body.modo-contraste .btn-compra-libro {
    background-color: #fff;
    color: #000 !important;
}

/* AQUÍ CONFIGURAS LA FOTO DE NOCHE */
body.modo-contraste .libro-foto-principal {
    mix-blend-mode: normal; /* Quitamos el efecto multiply en noche */
    
    /* OPCIÓN A: Si es la misma foto, le bajamos el brillo */
    filter: brightness(0.8); 

    /* OPCIÓN B: Si tienes una foto distinta para noche (ej: libro con luz led), descomenta esto: */
    /* content: url('img/nombre-de-tu-foto-noche.jpg'); */
}
/* ==========================================================================
   VERSIÓN MÓVIL CORREGIDA (SOMBRA + FOTO AJUSTADA)
   ========================================================================== */
/* ==========================================================================
   VERSIÓN MÓVIL (IMAGEN 100% ANCHO BORDE A BORDE)
   ========================================================================== */
@media (max-width: 768px) {
    
    /* 1. Ajuste de Enlaces Desbordados (Footer) */
    .redes-sociales {
        display: flex !important;
        flex-wrap: wrap !important;
        justify-content: center !important;
        gap: 10px 15px !important;
        padding: 0 20px !important;
    }

    /* 2. Tarjeta del Libro */
    .promo-libro-container {
        margin: 30px auto 40px !important;
        width: 100% !important;
        max-width: 100% !important;
        background-color: #fff;
        border-radius: 12px !important;
        box-shadow: 0 10px 20px rgba(0, 0, 0, 0.4) !important;
        overflow: hidden;
        display: flex;
        flex-direction: column;
    }

    .promo-libro-container::before { display: none; }

    .libro-grid {
        display: flex;
        flex-direction: column;
        width: 100%;
        margin: 0;
        padding: 0;
    }

    /* 3. IMAGEN A PANTALLA COMPLETA */
    .libro-img-wrapper {
        width: 100%;
        background-color: #fff;
        /* Reducimos un poco el aire de arriba para que la foto destaque más */
        padding-top: 30px; 
        padding-bottom: 0;
        padding-left: 0;
        padding-right: 0;
        display: flex;
        justify-content: center;
        align-items: flex-end;
    }

    .libro-foto-principal {
        /* AQUÍ ESTÁ EL CAMBIO CLAVE */
        width: 100% !important;  /* Ocupa todo el ancho disponible */
        max-width: 100% !important; /* Quitamos el límite de 250px */
        height: auto;
        display: block;
        mix-blend-mode: normal; 
        margin-bottom: -1px; /* Para asegurar que no haya línea blanca abajo */
        object-fit: cover; /* Asegura que rellene bien */
    }

    /* 4. Texto */
    .libro-texto-wrapper {
        width: 100%;
        background-color: #f6f5f4;
        padding: 30px 20px;
        text-align: center;
        border-top: none; /* Quitamos borde para que parezca continuo */
    }

    .libro-texto-wrapper h3 {
        font-size: 1.8rem;
        margin-bottom: 10px;
    }

    /* Modo Noche Móvil */
    body.modo-contraste .promo-libro-container {
        background-color: #000 !important;
        border: 1px solid #555 !important;
    }
    body.modo-contraste .libro-img-wrapper {
        background-color: #000 !important;
    }
    body.modo-contraste .libro-texto-wrapper {
        background-color: #1a1a1a !important;
    }
}

/* ==========================================================================
   PARCHE FINAL: ARREGLO TEXTO TIENDA MÓVIL
   ========================================================================== */
@media (max-width: 768px) {

    /* 1. Forzamos que el contenedor crezca y no oculte nada */
    .promo-tienda-container {
        display: flex !important;
        flex-direction: column !important; /* Foto arriba, Texto abajo */
        height: auto !important;
        min-height: 500px !important; /* Altura mínima para asegurar que cabe todo */
        overflow: visible !important;
        background-color: #fff !important;
        margin-top: 40px !important;
    }

    /* 2. Aseguramos que el bloque de texto sea visible y tenga fondo gris */
    .tienda-texto-wrapper {
        display: block !important; /* O flex, pero block asegura que ocupa espacio */
        width: 100% !important;
        background-color: #f6f5f4 !important; /* Fondo Gris Cloud Dancer */
        padding: 40px 20px !important;
        opacity: 1 !important;
        position: relative !important;
        z-index: 10 !important;
    }

    /* 3. CORRECCIÓN CLAVE: Apuntamos al h3 directo (porque no tiene la clase .titulo-tienda en el HTML) */
    .tienda-texto-wrapper h3 {
        display: block !important;
        font-size: 1.6rem !important;
        font-weight: 800 !important;
        color: #000 !important;
        margin-bottom: 15px !important;
        line-height: 1.2 !important;
    }

    /* 4. Texto de los párrafos */
    .tienda-texto-wrapper p {
        display: block !important;
        font-size: 1rem !important;
        color: #333 !important;
        margin-bottom: 20px !important;
    }
    
    /* 5. Aseguramos que la foto se quede arriba */
    .tienda-img-wrapper {
        order: -1 !important; /* Manda la foto al principio */
        width: 100% !important;
        padding-bottom: 0 !important;
    }

    /* 6. Arreglo para Modo Noche Móvil (para que se lea el texto) */
    body.modo-contraste .tienda-texto-wrapper {
        background-color: #1a1a1a !important;
    }
    body.modo-contraste .tienda-texto-wrapper h3,
    body.modo-contraste .tienda-texto-wrapper p {
        color: #ffffff !important;
    }
}